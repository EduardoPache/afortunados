---
import monteverde from "/Imagenes/monteverde.jpg";
import manuelantonio from "/Imagenes/manuelantonio.jpg";
import jaco from "/Imagenes/jaco.jpg";
import lafortuna from "/Imagenes/lafortuna.jpg";
import tamarindo from "/Imagenes/jaco.jpg"; // corregir si es necesario

const images = [
  {
    id: 1,
    src: monteverde.src,
    title: "MONTEVERDE",
    subtitle: "COSTA RICA - BOSQUE NUBOSO",
  },
  {
    id: 2,
    src: manuelantonio.src,
    title: "MANUEL ANTONIO",
    subtitle: "COSTA RICA - PLAYA",
  },
  { id: 3, src: jaco.src, title: "JACÃ“", subtitle: "COSTA RICA - PLAYA" },
  {
    id: 4,
    src: lafortuna.src,
    title: "LA FORTUNA",
    subtitle: "COSTA RICA - BOSQUE",
  },
  {
    id: 5,
    src: tamarindo.src,
    title: "TAMARINDO",
    subtitle: "COSTA RICA - BOSQUE NUBOSO",
  },
];
---

<div class="w-full h-screen relative overflow-hidden" client:load>
  <!-- Imagen de fondo -->
  <img
    id="destiny-image"
    src={images[0].src}
    alt="Destino"
    class="absolute inset-0 w-full h-full object-cover transition-all duration-700 z-0"
  />

  <!-- Texto en foreground -->
  <div class="absolute top-20 left-10 z-10">
    <h1 class="text-5xl font-bold drop-shadow-xl text-white" id="destiny-title">
      {images[0].title}
    </h1>
    <p class="text-xl mt-2 drop-shadow-lg text-white" id="destiny-subtitle">
      {images[0].subtitle}
    </p>
  </div>

  <!-- Slider en la esquina inferior derecha -->
  <div class="absolute bottom-10 right-10 z-20 flex gap-6">
    {
      images.map((img) => (
        <div
          class="relative w-[200px] h-[300px] rounded-2xl overflow-hidden shadow-2xl cursor-pointer transition-transform hover:scale-105"
          data-src={img.src}
          data-title={img.title}
          data-subtitle={img.subtitle}
        >
          <img
            src={img.src}
            alt={img.title}
            class="w-full h-full object-cover"
          />
          <div class="absolute bottom-0 left-0 bg-white/90 text-black text-sm font-bold px-3 py-2 rounded-tr-xl">
            {img.title}
          </div>
        </div>
      ))
    }
  </div>

  <script type="module" is:inline>
    const imgEl = document.getElementById("destiny-image");
    const titleEl = document.getElementById("destiny-title");
    const subtitleEl = document.getElementById("destiny-subtitle");

    const cards = document.querySelectorAll("[data-src]");

    cards.forEach((card) => {
      card.addEventListener("click", () => {
        const src = card.getAttribute("data-src");
        const title = card.getAttribute("data-title");
        const subtitle = card.getAttribute("data-subtitle");

        if (imgEl) imgEl.src = src;
        if (titleEl) titleEl.textContent = title;
        if (subtitleEl) subtitleEl.textContent = subtitle;
      });
    });
  </script>
</div>
